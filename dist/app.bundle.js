!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=10)}([function(t,n,e){var r=e(7),i=e(8);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},,,,,,,function(t,n,e){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function s(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function u(t,n){for(var e={},r=[],i=0;i<t.length;i++){var o=t[i],u=n.base?o[0]+n.base:o[0],c=e[u]||0,h="".concat(u," ").concat(c);e[u]=c+1;var l=s(h),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(a[l].references++,a[l].updater(f)):a.push({identifier:h,updater:g(f,n),references:1}),r.push(h)}return r}function c(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var h,l=(h=[],function(t,n){return h[t]=n,h.filter(Boolean).join("\n")});function f(t,n,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(n,i);else{var o=document.createTextNode(i),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(o,a[n]):t.appendChild(o)}}function d(t,n,e){var r=e.css,i=e.media,o=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(t,n){var e,r,i;if(n.singleton){var o=m++;e=p||(p=c(n)),r=f.bind(null,e,o,!1),i=f.bind(null,e,o,!0)}else e=c(n),r=d.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var i=s(e[r]);a[i].references--}for(var o=u(t,n),c=0;c<e.length;c++){var h=s(e[c]);0===a[h].references&&(a[h].updater(),a.splice(h,1))}e=o}}}},function(t,n,e){(n=e(9)(!1)).push([t.i,"._3Mwv5So4MvxeCu4kT6nAa7 {\n    background-color: #000000;\n    display: block;\n    margin: 0;\n    padding: 0;\n}",""]),n.locals={body:"_3Mwv5So4MvxeCu4kT6nAa7"},t.exports=n},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([i]).join("\n")}var a,s,u;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(e&&(u[2]?u[2]="".concat(e," and ").concat(u[2]):u[2]=e),n.push(u))}},n}},function(t,n,e){"use strict";e.r(n),e.d(n,"Main",(function(){return Oe}));var r={};e.r(r),e.d(r,"create",(function(){return f})),e.d(r,"clone",(function(){return d})),e.d(r,"copy",(function(){return p})),e.d(r,"fromValues",(function(){return m})),e.d(r,"set",(function(){return g})),e.d(r,"identity",(function(){return v})),e.d(r,"transpose",(function(){return M})),e.d(r,"invert",(function(){return b})),e.d(r,"adjoint",(function(){return y})),e.d(r,"determinant",(function(){return L})),e.d(r,"multiply",(function(){return w})),e.d(r,"translate",(function(){return P})),e.d(r,"scale",(function(){return x})),e.d(r,"rotate",(function(){return C})),e.d(r,"rotateX",(function(){return S})),e.d(r,"rotateY",(function(){return T})),e.d(r,"rotateZ",(function(){return A})),e.d(r,"fromTranslation",(function(){return O})),e.d(r,"fromScaling",(function(){return R})),e.d(r,"fromRotation",(function(){return U})),e.d(r,"fromXRotation",(function(){return D})),e.d(r,"fromYRotation",(function(){return E})),e.d(r,"fromZRotation",(function(){return I})),e.d(r,"fromRotationTranslation",(function(){return N})),e.d(r,"fromQuat2",(function(){return _})),e.d(r,"getTranslation",(function(){return F})),e.d(r,"getScaling",(function(){return j})),e.d(r,"getRotation",(function(){return z})),e.d(r,"fromRotationTranslationScale",(function(){return B})),e.d(r,"fromRotationTranslationScaleOrigin",(function(){return W})),e.d(r,"fromQuat",(function(){return q})),e.d(r,"frustum",(function(){return V})),e.d(r,"perspective",(function(){return k})),e.d(r,"perspectiveFromFieldOfView",(function(){return H})),e.d(r,"ortho",(function(){return G})),e.d(r,"lookAt",(function(){return X})),e.d(r,"targetTo",(function(){return Y})),e.d(r,"str",(function(){return K})),e.d(r,"frob",(function(){return Z})),e.d(r,"add",(function(){return J})),e.d(r,"subtract",(function(){return Q})),e.d(r,"multiplyScalar",(function(){return $})),e.d(r,"multiplyScalarAndAdd",(function(){return tt})),e.d(r,"exactEquals",(function(){return nt})),e.d(r,"equals",(function(){return et})),e.d(r,"mul",(function(){return rt})),e.d(r,"sub",(function(){return it}));var i={};e.r(i),e.d(i,"create",(function(){return ot})),e.d(i,"clone",(function(){return at})),e.d(i,"length",(function(){return st})),e.d(i,"fromValues",(function(){return ut})),e.d(i,"copy",(function(){return ct})),e.d(i,"set",(function(){return ht})),e.d(i,"add",(function(){return lt})),e.d(i,"subtract",(function(){return ft})),e.d(i,"multiply",(function(){return dt})),e.d(i,"divide",(function(){return pt})),e.d(i,"ceil",(function(){return mt})),e.d(i,"floor",(function(){return gt})),e.d(i,"min",(function(){return vt})),e.d(i,"max",(function(){return Mt})),e.d(i,"round",(function(){return bt})),e.d(i,"scale",(function(){return yt})),e.d(i,"scaleAndAdd",(function(){return Lt})),e.d(i,"distance",(function(){return wt})),e.d(i,"squaredDistance",(function(){return Pt})),e.d(i,"squaredLength",(function(){return xt})),e.d(i,"negate",(function(){return Ct})),e.d(i,"inverse",(function(){return St})),e.d(i,"normalize",(function(){return Tt})),e.d(i,"dot",(function(){return At})),e.d(i,"cross",(function(){return Ot})),e.d(i,"lerp",(function(){return Rt})),e.d(i,"hermite",(function(){return Ut})),e.d(i,"bezier",(function(){return Dt})),e.d(i,"random",(function(){return Et})),e.d(i,"transformMat4",(function(){return It})),e.d(i,"transformMat3",(function(){return Nt})),e.d(i,"transformQuat",(function(){return _t})),e.d(i,"rotateX",(function(){return Ft})),e.d(i,"rotateY",(function(){return jt})),e.d(i,"rotateZ",(function(){return zt})),e.d(i,"angle",(function(){return Bt})),e.d(i,"zero",(function(){return Wt})),e.d(i,"str",(function(){return qt})),e.d(i,"exactEquals",(function(){return Vt})),e.d(i,"equals",(function(){return kt})),e.d(i,"sub",(function(){return Gt})),e.d(i,"mul",(function(){return Xt})),e.d(i,"div",(function(){return Yt})),e.d(i,"dist",(function(){return Kt})),e.d(i,"sqrDist",(function(){return Zt})),e.d(i,"len",(function(){return Jt})),e.d(i,"sqrLen",(function(){return Qt})),e.d(i,"forEach",(function(){return $t}));var o={};e.r(o),e.d(o,"create",(function(){return tn})),e.d(o,"clone",(function(){return nn})),e.d(o,"fromValues",(function(){return en})),e.d(o,"copy",(function(){return rn})),e.d(o,"set",(function(){return on})),e.d(o,"add",(function(){return an})),e.d(o,"subtract",(function(){return sn})),e.d(o,"multiply",(function(){return un})),e.d(o,"divide",(function(){return cn})),e.d(o,"ceil",(function(){return hn})),e.d(o,"floor",(function(){return ln})),e.d(o,"min",(function(){return fn})),e.d(o,"max",(function(){return dn})),e.d(o,"round",(function(){return pn})),e.d(o,"scale",(function(){return mn})),e.d(o,"scaleAndAdd",(function(){return gn})),e.d(o,"distance",(function(){return vn})),e.d(o,"squaredDistance",(function(){return Mn})),e.d(o,"length",(function(){return bn})),e.d(o,"squaredLength",(function(){return yn})),e.d(o,"negate",(function(){return Ln})),e.d(o,"inverse",(function(){return wn})),e.d(o,"normalize",(function(){return Pn})),e.d(o,"dot",(function(){return xn})),e.d(o,"cross",(function(){return Cn})),e.d(o,"lerp",(function(){return Sn})),e.d(o,"random",(function(){return Tn})),e.d(o,"transformMat4",(function(){return An})),e.d(o,"transformQuat",(function(){return On})),e.d(o,"zero",(function(){return Rn})),e.d(o,"str",(function(){return Un})),e.d(o,"exactEquals",(function(){return Dn})),e.d(o,"equals",(function(){return En})),e.d(o,"sub",(function(){return In})),e.d(o,"mul",(function(){return Nn})),e.d(o,"div",(function(){return _n})),e.d(o,"dist",(function(){return Fn})),e.d(o,"sqrDist",(function(){return jn})),e.d(o,"len",(function(){return zn})),e.d(o,"sqrLen",(function(){return Bn})),e.d(o,"forEach",(function(){return Wn}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function s(t,n){function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function u(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var c=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,l=Math.random;Math.PI;function f(){var t=new h(16);return h!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function d(t){var n=new h(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function p(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function m(t,n,e,r,i,o,a,s,u,c,l,f,d,p,m,g){var v=new h(16);return v[0]=t,v[1]=n,v[2]=e,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=u,v[9]=c,v[10]=l,v[11]=f,v[12]=d,v[13]=p,v[14]=m,v[15]=g,v}function g(t,n,e,r,i,o,a,s,u,c,h,l,f,d,p,m,g){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=h,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t}function v(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],s=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function b(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],u=n[6],c=n[7],h=n[8],l=n[9],f=n[10],d=n[11],p=n[12],m=n[13],g=n[14],v=n[15],M=e*s-r*a,b=e*u-i*a,y=e*c-o*a,L=r*u-i*s,w=r*c-o*s,P=i*c-o*u,x=h*m-l*p,C=h*g-f*p,S=h*v-d*p,T=l*g-f*m,A=l*v-d*m,O=f*v-d*g,R=M*O-b*A+y*T+L*S-w*C+P*x;return R?(R=1/R,t[0]=(s*O-u*A+c*T)*R,t[1]=(i*A-r*O-o*T)*R,t[2]=(m*P-g*w+v*L)*R,t[3]=(f*w-l*P-d*L)*R,t[4]=(u*S-a*O-c*C)*R,t[5]=(e*O-i*S+o*C)*R,t[6]=(g*y-p*P-v*b)*R,t[7]=(h*P-f*y+d*b)*R,t[8]=(a*A-s*S+c*x)*R,t[9]=(r*S-e*A-o*x)*R,t[10]=(p*w-m*y+v*M)*R,t[11]=(l*y-h*w-d*M)*R,t[12]=(s*C-a*T-u*x)*R,t[13]=(e*T-r*C+i*x)*R,t[14]=(m*b-p*L-g*M)*R,t[15]=(h*L-l*b+f*M)*R,t):null}function y(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],u=n[6],c=n[7],h=n[8],l=n[9],f=n[10],d=n[11],p=n[12],m=n[13],g=n[14],v=n[15];return t[0]=s*(f*v-d*g)-l*(u*v-c*g)+m*(u*d-c*f),t[1]=-(r*(f*v-d*g)-l*(i*v-o*g)+m*(i*d-o*f)),t[2]=r*(u*v-c*g)-s*(i*v-o*g)+m*(i*c-o*u),t[3]=-(r*(u*d-c*f)-s*(i*d-o*f)+l*(i*c-o*u)),t[4]=-(a*(f*v-d*g)-h*(u*v-c*g)+p*(u*d-c*f)),t[5]=e*(f*v-d*g)-h*(i*v-o*g)+p*(i*d-o*f),t[6]=-(e*(u*v-c*g)-a*(i*v-o*g)+p*(i*c-o*u)),t[7]=e*(u*d-c*f)-a*(i*d-o*f)+h*(i*c-o*u),t[8]=a*(l*v-d*m)-h*(s*v-c*m)+p*(s*d-c*l),t[9]=-(e*(l*v-d*m)-h*(r*v-o*m)+p*(r*d-o*l)),t[10]=e*(s*v-c*m)-a*(r*v-o*m)+p*(r*c-o*s),t[11]=-(e*(s*d-c*l)-a*(r*d-o*l)+h*(r*c-o*s)),t[12]=-(a*(l*g-f*m)-h*(s*g-u*m)+p*(s*f-u*l)),t[13]=e*(l*g-f*m)-h*(r*g-i*m)+p*(r*f-i*l),t[14]=-(e*(s*g-u*m)-a*(r*g-i*m)+p*(r*u-i*s)),t[15]=e*(s*f-u*l)-a*(r*f-i*l)+h*(r*u-i*s),t}function L(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],h=t[9],l=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(n*a-e*o)*(l*g-f*m)-(n*s-r*o)*(h*g-f*p)+(n*u-i*o)*(h*m-l*p)+(e*s-r*a)*(c*g-f*d)-(e*u-i*a)*(c*m-l*d)+(r*u-i*s)*(c*p-h*d)}function w(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],h=n[7],l=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],M=n[15],b=e[0],y=e[1],L=e[2],w=e[3];return t[0]=b*r+y*s+L*l+w*m,t[1]=b*i+y*u+L*f+w*g,t[2]=b*o+y*c+L*d+w*v,t[3]=b*a+y*h+L*p+w*M,b=e[4],y=e[5],L=e[6],w=e[7],t[4]=b*r+y*s+L*l+w*m,t[5]=b*i+y*u+L*f+w*g,t[6]=b*o+y*c+L*d+w*v,t[7]=b*a+y*h+L*p+w*M,b=e[8],y=e[9],L=e[10],w=e[11],t[8]=b*r+y*s+L*l+w*m,t[9]=b*i+y*u+L*f+w*g,t[10]=b*o+y*c+L*d+w*v,t[11]=b*a+y*h+L*p+w*M,b=e[12],y=e[13],L=e[14],w=e[15],t[12]=b*r+y*s+L*l+w*m,t[13]=b*i+y*u+L*f+w*g,t[14]=b*o+y*c+L*d+w*v,t[15]=b*a+y*h+L*p+w*M,t}function P(t,n,e){var r,i,o,a,s,u,c,h,l,f,d,p,m=e[0],g=e[1],v=e[2];return n===t?(t[12]=n[0]*m+n[4]*g+n[8]*v+n[12],t[13]=n[1]*m+n[5]*g+n[9]*v+n[13],t[14]=n[2]*m+n[6]*g+n[10]*v+n[14],t[15]=n[3]*m+n[7]*g+n[11]*v+n[15]):(r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],h=n[7],l=n[8],f=n[9],d=n[10],p=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=h,t[8]=l,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+l*v+n[12],t[13]=i*m+u*g+f*v+n[13],t[14]=o*m+c*g+d*v+n[14],t[15]=a*m+h*g+p*v+n[15]),t}function x(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function C(t,n,e,r){var i,o,a,s,u,h,l,f,d,p,m,g,v,M,b,y,L,w,P,x,C,S,T,A,O=r[0],R=r[1],U=r[2],D=Math.hypot(O,R,U);return D<c?null:(O*=D=1/D,R*=D,U*=D,i=Math.sin(e),a=1-(o=Math.cos(e)),s=n[0],u=n[1],h=n[2],l=n[3],f=n[4],d=n[5],p=n[6],m=n[7],g=n[8],v=n[9],M=n[10],b=n[11],y=O*O*a+o,L=R*O*a+U*i,w=U*O*a-R*i,P=O*R*a-U*i,x=R*R*a+o,C=U*R*a+O*i,S=O*U*a+R*i,T=R*U*a-O*i,A=U*U*a+o,t[0]=s*y+f*L+g*w,t[1]=u*y+d*L+v*w,t[2]=h*y+p*L+M*w,t[3]=l*y+m*L+b*w,t[4]=s*P+f*x+g*C,t[5]=u*P+d*x+v*C,t[6]=h*P+p*x+M*C,t[7]=l*P+m*x+b*C,t[8]=s*S+f*T+g*A,t[9]=u*S+d*T+v*A,t[10]=h*S+p*T+M*A,t[11]=l*S+m*T+b*A,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function S(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],s=n[6],u=n[7],c=n[8],h=n[9],l=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+h*r,t[6]=s*i+l*r,t[7]=u*i+f*r,t[8]=c*i-o*r,t[9]=h*i-a*r,t[10]=l*i-s*r,t[11]=f*i-u*r,t}function T(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],s=n[2],u=n[3],c=n[8],h=n[9],l=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-h*r,t[2]=s*i-l*r,t[3]=u*i-f*r,t[8]=o*r+c*i,t[9]=a*r+h*i,t[10]=s*r+l*i,t[11]=u*r+f*i,t}function A(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],h=n[5],l=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+h*r,t[2]=s*i+l*r,t[3]=u*i+f*r,t[4]=c*i-o*r,t[5]=h*i-a*r,t[6]=l*i-s*r,t[7]=f*i-u*r,t}function O(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function R(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,n,e){var r,i,o,a=e[0],s=e[1],u=e[2],h=Math.hypot(a,s,u);return h<c?null:(a*=h=1/h,s*=h,u*=h,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=s*a*o+u*r,t[2]=u*a*o-s*r,t[3]=0,t[4]=a*s*o-u*r,t[5]=s*s*o+i,t[6]=u*s*o+a*r,t[7]=0,t[8]=a*u*o+s*r,t[9]=s*u*o-a*r,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function D(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],s=r+r,u=i+i,c=o+o,h=r*s,l=r*u,f=r*c,d=i*u,p=i*c,m=o*c,g=a*s,v=a*u,M=a*c;return t[0]=1-(d+m),t[1]=l+M,t[2]=f-v,t[3]=0,t[4]=l-M,t[5]=1-(h+m),t[6]=p+g,t[7]=0,t[8]=f+v,t[9]=p-g,t[10]=1-(h+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _(t,n){var e=new h(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],f=r*r+i*i+o*o+a*a;return f>0?(e[0]=2*(s*a+l*r+u*o-c*i)/f,e[1]=2*(u*a+l*i+c*r-s*o)/f,e[2]=2*(c*a+l*o+s*i-u*r)/f):(e[0]=2*(s*a+l*r+u*o-c*i),e[1]=2*(u*a+l*i+c*r-s*o),e[2]=2*(c*a+l*o+s*i-u*r)),N(t,n,e),t}function F(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function j(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],s=n[6],u=n[8],c=n[9],h=n[10];return t[0]=Math.hypot(e,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,c,h),t}function z(t,n){var e=new h(3);j(e,n);var r=1/e[0],i=1/e[1],o=1/e[2],a=n[0]*r,s=n[1]*i,u=n[2]*o,c=n[4]*r,l=n[5]*i,f=n[6]*o,d=n[8]*r,p=n[9]*i,m=n[10]*o,g=a+l+m,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(f-p)/v,t[1]=(d-u)/v,t[2]=(s-c)/v):a>l&&a>m?(v=2*Math.sqrt(1+a-l-m),t[3]=(f-p)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(d+u)/v):l>m?(v=2*Math.sqrt(1+l-a-m),t[3]=(d-u)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(f+p)/v):(v=2*Math.sqrt(1+m-a-l),t[3]=(s-c)/v,t[0]=(d+u)/v,t[1]=(f+p)/v,t[2]=.25*v),t}function B(t,n,e,r){var i=n[0],o=n[1],a=n[2],s=n[3],u=i+i,c=o+o,h=a+a,l=i*u,f=i*c,d=i*h,p=o*c,m=o*h,g=a*h,v=s*u,M=s*c,b=s*h,y=r[0],L=r[1],w=r[2];return t[0]=(1-(p+g))*y,t[1]=(f+b)*y,t[2]=(d-M)*y,t[3]=0,t[4]=(f-b)*L,t[5]=(1-(l+g))*L,t[6]=(m+v)*L,t[7]=0,t[8]=(d+M)*w,t[9]=(m-v)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function W(t,n,e,r,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=o+o,h=a+a,l=s+s,f=o*c,d=o*h,p=o*l,m=a*h,g=a*l,v=s*l,M=u*c,b=u*h,y=u*l,L=r[0],w=r[1],P=r[2],x=i[0],C=i[1],S=i[2],T=(1-(m+v))*L,A=(d+y)*L,O=(p-b)*L,R=(d-y)*w,U=(1-(f+v))*w,D=(g+M)*w,E=(p+b)*P,I=(g-M)*P,N=(1-(f+m))*P;return t[0]=T,t[1]=A,t[2]=O,t[3]=0,t[4]=R,t[5]=U,t[6]=D,t[7]=0,t[8]=E,t[9]=I,t[10]=N,t[11]=0,t[12]=e[0]+x-(T*x+R*C+E*S),t[13]=e[1]+C-(A*x+U*C+I*S),t[14]=e[2]+S-(O*x+D*C+N*S),t[15]=1,t}function q(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,s=r+r,u=i+i,c=e*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-l-p,t[1]=h+v,t[2]=f-g,t[3]=0,t[4]=h-v,t[5]=1-c-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function V(t,n,e,r,i,o,a){var s=1/(e-n),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(e+n)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function k(t,n,e,r,i){var o,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function H(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),s=Math.tan(n.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function G(t,n,e,r,i,o,a){var s=1/(n-e),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t}function X(t,n,e,r){var i,o,a,s,u,h,l,f,d,p,m=n[0],g=n[1],M=n[2],b=r[0],y=r[1],L=r[2],w=e[0],P=e[1],x=e[2];return Math.abs(m-w)<c&&Math.abs(g-P)<c&&Math.abs(M-x)<c?v(t):(l=m-w,f=g-P,d=M-x,i=y*(d*=p=1/Math.hypot(l,f,d))-L*(f*=p),o=L*(l*=p)-b*d,a=b*f-y*l,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=f*a-d*o,u=d*i-l*a,h=l*o-f*i,(p=Math.hypot(s,u,h))?(s*=p=1/p,u*=p,h*=p):(s=0,u=0,h=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=u,t[6]=f,t[7]=0,t[8]=a,t[9]=h,t[10]=d,t[11]=0,t[12]=-(i*m+o*g+a*M),t[13]=-(s*m+u*g+h*M),t[14]=-(l*m+f*g+d*M),t[15]=1,t)}function Y(t,n,e,r){var i=n[0],o=n[1],a=n[2],s=r[0],u=r[1],c=r[2],h=i-e[0],l=o-e[1],f=a-e[2],d=h*h+l*l+f*f;d>0&&(h*=d=1/Math.sqrt(d),l*=d,f*=d);var p=u*f-c*l,m=c*h-s*f,g=s*l-u*h;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=l*g-f*m,t[5]=f*p-h*g,t[6]=h*m-l*p,t[7]=0,t[8]=h,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function K(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Z(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function J(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Q(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function $(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function tt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function nt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function et(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],l=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],M=t[15],b=n[0],y=n[1],L=n[2],w=n[3],P=n[4],x=n[5],C=n[6],S=n[7],T=n[8],A=n[9],O=n[10],R=n[11],U=n[12],D=n[13],E=n[14],I=n[15];return Math.abs(e-b)<=c*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(r-y)<=c*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-L)<=c*Math.max(1,Math.abs(i),Math.abs(L))&&Math.abs(o-w)<=c*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-P)<=c*Math.max(1,Math.abs(a),Math.abs(P))&&Math.abs(s-x)<=c*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(u-C)<=c*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(h-S)<=c*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(l-T)<=c*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(f-A)<=c*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-O)<=c*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-R)<=c*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-U)<=c*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(g-D)<=c*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(v-E)<=c*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(M-I)<=c*Math.max(1,Math.abs(M),Math.abs(I))}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var rt=w,it=Q;function ot(){var t=new h(3);return h!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function at(t){var n=new h(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function st(t){var n=t[0],e=t[1],r=t[2];return Math.hypot(n,e,r)}function ut(t,n,e){var r=new h(3);return r[0]=t,r[1]=n,r[2]=e,r}function ct(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function ht(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function lt(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function ft(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function dt(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function pt(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function mt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function gt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function vt(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function Mt(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function bt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function yt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function Lt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function wt(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.hypot(e,r,i)}function Pt(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function xt(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function Ct(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function St(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Tt(t,n){var e=n[0],r=n[1],i=n[2],o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t}function At(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ot(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],s=e[1],u=e[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function Rt(t,n,e,r){var i=n[0],o=n[1],a=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t}function Ut(t,n,e,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=n[0]*s+e[0]*u+r[0]*c+i[0]*h,t[1]=n[1]*s+e[1]*u+r[1]*c+i[1]*h,t[2]=n[2]*s+e[2]*u+r[2]*c+i[2]*h,t}function Dt(t,n,e,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=n[0]*c+e[0]*h+r[0]*l+i[0]*f,t[1]=n[1]*c+e[1]*h+r[1]*l+i[1]*f,t[2]=n[2]*c+e[2]*h+r[2]*l+i[2]*f,t}function Et(t,n){n=n||1;var e=2*l()*Math.PI,r=2*l()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t}function It(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[3]*r+e[7]*i+e[11]*o+e[15];return a=a||1,t[0]=(e[0]*r+e[4]*i+e[8]*o+e[12])/a,t[1]=(e[1]*r+e[5]*i+e[9]*o+e[13])/a,t[2]=(e[2]*r+e[6]*i+e[10]*o+e[14])/a,t}function Nt(t,n,e){var r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t}function _t(t,n,e){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,p=o*h-r*f,m=r*l-i*h,g=2*a;return h*=g,l*=g,f*=g,d*=2,p*=2,m*=2,t[0]=s+h+d,t[1]=u+l+p,t[2]=c+f+m,t}function Ft(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function jt(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function zt(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function Bt(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],s=n[2],u=Math.sqrt(e*e+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&At(t,n)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Wt(t){return t[0]=0,t[1]=0,t[2]=0,t}function qt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Vt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function kt(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],s=n[2];return Math.abs(e-o)<=c*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=c*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=c*Math.max(1,Math.abs(i),Math.abs(s))}var Ht,Gt=ft,Xt=dt,Yt=pt,Kt=wt,Zt=Pt,Jt=st,Qt=xt,$t=(Ht=ot(),function(t,n,e,r,i,o){var a,s;for(n||(n=3),e||(e=0),s=r?Math.min(r*n+e,t.length):t.length,a=e;a<s;a+=n)Ht[0]=t[a],Ht[1]=t[a+1],Ht[2]=t[a+2],i(Ht,Ht,o),t[a]=Ht[0],t[a+1]=Ht[1],t[a+2]=Ht[2];return t});function tn(){var t=new h(4);return h!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function nn(t){var n=new h(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function en(t,n,e,r){var i=new h(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function rn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function on(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function an(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function sn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function un(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function cn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function hn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function ln(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function fn(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function dn(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function pn(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function mn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function gn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function vn(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.hypot(e,r,i,o)}function Mn(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function bn(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.hypot(n,e,r,i)}function yn(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function Ln(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function wn(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function Pn(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function xn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Cn(t,n,e,r){var i=e[0]*r[1]-e[1]*r[0],o=e[0]*r[2]-e[2]*r[0],a=e[0]*r[3]-e[3]*r[0],s=e[1]*r[2]-e[2]*r[1],u=e[1]*r[3]-e[3]*r[1],c=e[2]*r[3]-e[3]*r[2],h=n[0],l=n[1],f=n[2],d=n[3];return t[0]=l*c-f*u+d*s,t[1]=-h*c+f*a-d*o,t[2]=h*u-l*a+d*i,t[3]=-h*s+l*o-f*i,t}function Sn(t,n,e,r){var i=n[0],o=n[1],a=n[2],s=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=s+r*(e[3]-s),t}function Tn(t,n){var e,r,i,o,a,s;n=n||1;do{a=(e=2*l()-1)*e+(r=2*l()-1)*r}while(a>=1);do{s=(i=2*l()-1)*i+(o=2*l()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=n*e,t[1]=n*r,t[2]=n*i*u,t[3]=n*o*u,t}function An(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function On(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],s=e[1],u=e[2],c=e[3],h=c*r+s*o-u*i,l=c*i+u*r-a*o,f=c*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=h*c+d*-a+l*-u-f*-s,t[1]=l*c+d*-s+f*-a-h*-u,t[2]=f*c+d*-u+h*-s-l*-a,t[3]=n[3],t}function Rn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Un(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Dn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function En(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],s=n[1],u=n[2],h=n[3];return Math.abs(e-a)<=c*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-s)<=c*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=c*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-h)<=c*Math.max(1,Math.abs(o),Math.abs(h))}var In=sn,Nn=un,_n=cn,Fn=vn,jn=Mn,zn=bn,Bn=yn,Wn=function(){var t=tn();return function(n,e,r,i,o,a){var s,u;for(e||(e=4),r||(r=0),u=i?Math.min(i*e+r,n.length):n.length,s=r;s<u;s+=e)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],t[3]=n[s+3],o(t,t,a),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2],n[s+3]=t[3];return n}}();function qn(t,n,e){var r=i.create();return i.set(r,t,n,e),r}function Vn(t,n,e,r){var i=o.create();return o.set(i,t,n,e,r),i}function kn(t,n){t.push(n[0]),t.push(n[1]),t.push(n[2])}function Hn(t){var n,e,r=[];try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var a=o.value,s=new Yn(a.a,a.b,a.d),c=new Yn(a.b,a.c,a.d);r.push(s),r.push(c)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return r}function Gn(t){return t>0?1:-1}var Xn,Yn=function(){function t(t,n,e){this.a=t,this.b=n,this.c=e}return t.prototype.getNormal=function(){var t=i.create(),n=i.create();return i.sub(t,this.b,this.a),i.sub(n,this.c,this.a),qn(t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0])},t.prototype.clone=function(){return new t(i.clone(this.a),i.clone(this.b),i.clone(this.c))},t.prototype.translate=function(t){return i.add(this.a,this.a,t),i.add(this.b,this.b,t),i.add(this.c,this.c,t),this},t.prototype.flip=function(){var t=this.clone();return this.a=t.c,this.b=t.b,this.c=t.a,this},t}(),Kn=function(){function t(t){var n=t.a,e=t.b,r=t.c,i=t.d;this.a=n,this.b=e,this.c=r,this.d=i}return t.prototype.clone=function(){return new t({a:i.clone(this.a),b:i.clone(this.b),c:i.clone(this.c),d:i.clone(this.d)})},t.prototype.translate=function(t){return i.add(this.a,this.a,t),i.add(this.b,this.b,t),i.add(this.c,this.c,t),i.add(this.d,this.d,t),this},t.prototype.getCenter=function(){var t=i.sub(i.create(),this.a,this.b),n=i.sub(i.create(),this.c,this.b);return i.scale(t,t,.5),i.scale(n,n,.5),i.add(i.create(),t,n)},t}(),Zn=function(){function t(){this.positions=[],this.normals=[]}return t.prototype.getPositions=function(){return this.positions},t.prototype.getNormals=function(){return this.normals},t.prototype.addTriangles=function(t){var n,e;try{for(var r=u(t),o=r.next();!o.done;o=r.next()){var a=o.value,s=a.getNormal();i.normalize(s,s),kn(this.positions,a.a),kn(this.positions,a.b),kn(this.positions,a.c),kn(this.normals,s),kn(this.normals,s),kn(this.normals,s)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}},t.prototype.initBuffers=function(t){var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.getPositions()),t.STATIC_DRAW);var e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.getNormals()),t.STATIC_DRAW),this.buffers={position:n,normal:e}},t.prototype.render=function(t,n,e){var i=r.create();r.invert(i,e),r.transpose(i,i);var o=3,a=t.FLOAT,s=!1,u=0,c=0;t.bindBuffer(t.ARRAY_BUFFER,this.buffers.position),t.vertexAttribPointer(n.attribLocations.vertexPosition,o,a,s,u,c),t.enableVertexAttribArray(n.attribLocations.vertexPosition);o=3,a=t.FLOAT,s=!1,u=0,c=0;t.bindBuffer(t.ARRAY_BUFFER,this.buffers.normal),t.vertexAttribPointer(n.attribLocations.vertexNormal,o,a,s,u,c),t.enableVertexAttribArray(n.attribLocations.vertexNormal),t.useProgram(n.program),t.uniformMatrix4fv(n.uniformLocations.modelMatrix,!1,e),t.uniformMatrix4fv(n.uniformLocations.normalMatrix,!1,i);var h=this.getPositions().length/3;a=t.UNSIGNED_SHORT,c=0;t.drawArrays(t.TRIANGLES,0,h)},t}(),Jn=new(function(t){function n(){var n=t.call(this)||this;n.LENGTH=20,n.bodyWidth=4,n.xOffset=n.bodyWidth/2,n.groundOffset=2,n.height=4,n.yMin=n.groundOffset,n.yMax=n.groundOffset+n.height,n.length=20,n.zOffset=n.LENGTH/2;var e=[],r=qn(-n.xOffset,n.yMax,-n.zOffset),i=qn(-n.xOffset,n.yMin,-n.zOffset),o=qn(n.xOffset,n.yMax,-n.zOffset),a=qn(n.xOffset,n.yMin,-n.zOffset);r[0]+=.5,o[0]-=.5,i[0]+=.5,a[0]-=.5;r[1]-=1.5,o[1]-=1.5;var s=qn(-n.xOffset,n.yMax,n.zOffset),u=qn(-n.xOffset,n.yMin,n.zOffset),c=qn(n.xOffset,n.yMax,n.zOffset),h=qn(n.xOffset,n.yMin,n.zOffset),l=new Kn({a:o,b:a,c:i,d:r});e.push(l);var f=new Kn({a:s,b:u,c:h,d:c});e.push(f);var d=new Kn({a:r,b:s,c:c,d:o});e.push(d);var p=new Kn({a:a,b:h,c:u,d:i});e.push(p);var m=new Kn({a:r,b:i,c:u,d:s});e.push(m);var g=new Kn({a:c,b:h,c:a,d:o});e.push(g),n.positions=[],n.normals=[];var v=Hn(e);return n.addTriangles(v),n}return s(n,t),n}(Zn)),Qn=new(function(t){function n(){var n,e,r,o,a=t.call(this)||this;a.positions=[],a.normals=[];for(var s=[],c=[],h=Math.PI/12,l=[],f=qn(0,0,0),d=0;d<2*Math.PI;d+=h){var p=Math.cos(d),m=qn(0,2*Math.sin(d),2*p),g=Math.cos(d+h),v=qn(0,2*Math.sin(d+h),2*g);l.push(new Yn(v,i.clone(f),m))}l.forEach((function(t){var n=t.clone().translate(qn(-1,0,0)),e=t.clone().translate(qn(1,0,0)).flip(),r=new Kn({a:i.clone(n.a),b:i.clone(n.c),c:i.clone(e.a),d:i.clone(e.c)});c.push(n),c.push(e),s.push(r)})),a.positions=[],a.normals=[];try{for(var M=u(s),b=M.next();!b.done;b=M.next()){var y=b.value,L=new Yn(y.a,y.b,y.d),w=new Yn(y.b,y.c,y.d);c.push(L),c.push(w)}}catch(t){n={error:t}}finally{try{b&&!b.done&&(e=M.return)&&e.call(M)}finally{if(n)throw n.error}}try{for(var P=u(c),x=P.next();!x.done;x=P.next()){var C=x.value,S=C.getNormal();i.normalize(S,S),kn(a.positions,C.a),kn(a.positions,C.b),kn(a.positions,C.c),kn(a.normals,S),kn(a.normals,S),kn(a.normals,S)}}catch(t){r={error:t}}finally{try{x&&!x.done&&(o=P.return)&&o.call(P)}finally{if(r)throw r.error}}return a}return s(n,t),n.prototype.getPositions=function(){return this.positions},n.prototype.getNormals=function(){return this.normals},n}(Zn));!function(t){t[t.SPACE=32]="SPACE",t[t.ONE=49]="ONE",t[t.TWO=50]="TWO",t[t.THREE=51]="THREE",t[t.FOUR=52]="FOUR",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Z=90]="Z"}(Xn||(Xn={}));var $n,te=new(function(){function t(){var t=this;this.keyMap=new Map,this.assignedControlMap=new Map,document.onkeydown=function(n){t.keyMap.set(n.keyCode,!0)},document.onkeyup=function(n){t.keyMap.set(n.keyCode,!1)}}return t.prototype.isKeyDown=function(t){return this.keyMap.get(t)},t.prototype.addAssignedControl=function(t,n){if(this.assignedControlMap.has(t))throw new Error("Double-bound a control: "+t);this.assignedControlMap.set(t,n)},t.prototype.removeAssignedControl=function(t){if(!this.assignedControlMap.has(t))throw new Error("Removing unassigned control");this.assignedControlMap.delete(t)},t.prototype.getAssignedControlMap=function(){return this.assignedControlMap},t.prototype.getStringForKey=function(t){switch(t){case Xn.A:return"A";case Xn.B:return"B";case Xn.D:return"D";case Xn.W:return"W";case Xn.S:return"S";case Xn.J:return"J";case Xn.L:return"L";case Xn.N:return"N";case Xn.ONE:return"1";case Xn.TWO:return"2";case Xn.THREE:return"3";case Xn.FOUR:return"4";case Xn.SPACE:return"Space";default:throw new Error("Need to add string for Key")}},t}()),ne=function(){function t(){this.position=qn(0,0,0),this.scale=new Float32Array([1,1,1])}return t.prototype.update=function(t){},t.prototype.render=function(t,n){},t.prototype.getLights=function(){return[]},t.prototype.renderLight=function(t,n){},t.prototype.renderTranslucents=function(t,n){},t}();!function(t){t[t.DIRECTIONAL=0]="DIRECTIONAL",t[t.POINT=1]="POINT",t[t.SPOT=2]="SPOT"}($n||($n={}));var ee,re=new(function(t){function n(){var n,e,r,o,a=t.call(this)||this,s=[],c=qn(-1,1,-1),h=qn(-1,-1,-1),l=qn(1,1,-1),f=qn(1,-1,-1),d=qn(-1,1,1),p=qn(-1,-1,1),m=qn(1,1,1),g=qn(1,-1,1),v=new Kn({a:l,b:f,c:h,d:c});s.push(v);var M=new Kn({a:d,b:p,c:g,d:m});s.push(M);var b=new Kn({a:c,b:d,c:m,d:l});s.push(b);var y=new Kn({a:f,b:g,c:p,d:h});s.push(y);var L=new Kn({a:c,b:h,c:p,d:d});s.push(L);var w=new Kn({a:m,b:g,c:f,d:l});s.push(w),a.positions=[],a.normals=[];var P=[];try{for(var x=u(s),C=x.next();!C.done;C=x.next()){var S=C.value,T=new Yn(S.a,S.b,S.d),A=new Yn(S.b,S.c,S.d);P.push(T),P.push(A)}}catch(t){n={error:t}}finally{try{C&&!C.done&&(e=x.return)&&e.call(x)}finally{if(n)throw n.error}}try{for(var O=u(P),R=O.next();!R.done;R=O.next()){var U=R.value,D=U.getNormal();i.normalize(D,D),i.normalize(D,D),kn(a.positions,U.a),kn(a.positions,U.b),kn(a.positions,U.c),kn(a.normals,D),kn(a.normals,D),kn(a.normals,D)}}catch(t){r={error:t}}finally{try{R&&!R.done&&(o=O.return)&&o.call(O)}finally{if(r)throw r.error}}return a}return s(n,t),n}(Zn)),ie=new(function(t){function n(){for(var n=t.call(this)||this,e=[],r=Math.PI/36,o=2*Math.PI,a=Math.PI/2,s=0;s<a-r;s+=r)for(var u=Math.sin(s),c=Math.sin(s+r),h=Math.cos(s),l=Math.cos(s+r),f=0;f<o-r;f+=r){var d=Math.cos(f),p=Math.sin(f),m=Math.cos(f+r),g=Math.sin(f+r),v=i.normalize(i.create(),qn(d*l,c,p*l)),M=i.normalize(i.create(),qn(d*h,u,p*h)),b=i.normalize(i.create(),qn(m*h,u,g*h)),y=i.normalize(i.create(),qn(m*l,c,g*l));e.push(new Kn({a:y,b:b,c:M,d:v}))}var L=Hn(e);return n.addTriangles(L),n}return s(n,t),n}(Zn)),oe=function(t){function n(n,e){var r=t.call(this)||this;r.material={ambient:Vn(1,.8,0,1),diffuse:Vn(1,.8,0,1),specular:Vn(1,1,1,1),shininess:.1},r.damage=20,r.fireSpeed=.08,r.initialPosition=i.clone(n),r.position=i.clone(n);var o=i.normalize(i.create(),i.clone(e));return r.initialVelocity=i.scale(i.create(),o,r.fireSpeed),r.timeElapsedMs=0,r}return s(n,t),n.prototype.update=function(t){this.timeElapsedMs+=t;var n=i.create(),e=i.scale(i.create(),this.initialVelocity,this.timeElapsedMs),r=qn(0,0,0);i.add(n,e,r),i.add(this.position,this.position,n)},n.prototype.render=function(t,n){n.setMaterialUniform(t,this.material);var e=r.create(),o=qn(.25,.25,.55),a=r.scale(r.create(),r.create(),o),s=i.add(i.create(),this.position,this.initialVelocity),u=r.targetTo(r.create(),this.position,s,[0,1,0]);r.multiply(e,u,a),re.render(t,n,e)},n}(ne),ae=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.timeBetweenShotsMs=100,n.timeSinceLastShot=0,n}return s(n,t),n.prototype.update=function(t){this.timeSinceLastShot+=t},n.prototype.isReadyToShoot=function(){return this.timeSinceLastShot>this.timeBetweenShotsMs},n.prototype.shoot=function(t,n,e){return this.timeSinceLastShot=0,new oe(t,n)},n.prototype.render=function(t,n){},n}(ne),se=function(t,n){this.origin=t,this.direction=n,this.inverseDirection=qn(1/this.direction[0],1/this.direction[1],1/this.direction[2]),this.sign=[this.inverseDirection[0]<0?1:0,this.inverseDirection[1]<0?1:0,this.inverseDirection[2]<0?1:0]},ue=function(t,n){this.bounds=[i.clone(t),i.clone(n)]},ce=new(function(){function t(){}return t.prototype.rayIntersectsBox=function(t,n,e,r){var i=(n.bounds[t.sign[0]][0]-t.origin[0])*t.inverseDirection[0],o=(n.bounds[1-t.sign[0]][0]-t.origin[0])*t.inverseDirection[0],a=(n.bounds[t.sign[1]][1]-t.origin[1])*t.inverseDirection[1],s=(n.bounds[1-t.sign[1]][1]-t.origin[1])*t.inverseDirection[1];if(i>s||a>o)return!1;a>i&&(i=a),s<o&&(o=s);var u=(n.bounds[t.sign[2]][2]-t.origin[2])*t.inverseDirection[2],c=(n.bounds[1-t.sign[2]][2]-t.origin[2])*t.inverseDirection[2];return!(i>c||u>o)&&(u>i&&(i=u),c<o&&(o=c),i<r&&o>e)},t.prototype.pointInBox=function(t,n){return t[0]>n.bounds[0][0]&&t[0]<n.bounds[1][0]&&t[1]>n.bounds[0][1]&&t[1]<n.bounds[1][1]&&t[2]>n.bounds[0][2]&&t[2]<n.bounds[1][2]},t}());!function(t){t.SHIELD="Shield",t.OTHER="Other"}(ee||(ee={}));var he=function(t){function n(){var n=t.call(this)||this;return n.powerUpType=ee.SHIELD,n.material={ambient:Vn(0,0,.8,1),diffuse:Vn(0,0,.8,1),specular:Vn(0,0,.8,1),shininess:6},n}return s(n,t),n}(function(t){function n(){var n=t.call(this)||this;n.light={position:n.position,lightType:$n.POINT,lightColor:{ambient:Vn(0,0,1,1),diffuse:Vn(0,0,1,1),specular:Vn(0,0,1,1)},constant:1,linear:.002,quadratic:.03};return n.scale=new Float32Array([3,3,3]),n.yRotation=Math.random()*Math.PI/2,n}return s(n,t),n.prototype.update=function(t){this.yRotation+=t/800,this.light.position=this.position},n.prototype.render=function(t,n){n.setMaterialUniform(t,this.material);var e=r.create();r.translate(e,e,this.position),r.rotate(e,e,this.yRotation,[0,1,0]),r.scale(e,e,this.scale),re.render(t,n,e)},n.prototype.getLights=function(){return[this.light]},n.prototype.renderLight=function(t,n){var e=Vn(this.material.ambient[0],this.material.ambient[1],this.material.ambient[2],.5);n.setColor(t,e);var o=r.create();r.translate(o,o,this.position),r.rotate(o,o,this.yRotation,[0,1,0]);var a=i.add(i.create(),this.scale,qn(.5,.5,.5));r.scale(o,o,a),re.render(t,n,o)},n}(ne)),le=qn(1,0,0),fe=qn(0,1,0),de=qn(0,0,-1),pe=function(t){function n(n){var e=t.call(this)||this;return e.floor=n,e.isRenderAabb=!1,e.isUsingControls=!1,e.gun=new ae,e.projectiles=[],e.health=100,e.hasShield=!1,e.shieldHealth=100,e.MAX_SHIELD_HEALTH=100,e.bodyColor=[1,0,0,1],e.wheelColor=[.2,.2,.2,1],e.DEFAULT_BODY_MATERIAL={ambient:Vn(1,0,0,1),diffuse:Vn(1,0,0,1),specular:Vn(1,0,1,1),shininess:1},e.bodyMaterial=e.DEFAULT_BODY_MATERIAL,e.wheelMaterial={ambient:Vn(.2,.2,.2,1),diffuse:Vn(.2,.2,.2,1),specular:Vn(1,1,1,1),shininess:69},e.headlightLocalPosition=qn(0,Jn.groundOffset+Jn.height/2,.25-Jn.zOffset),e.headlightDownRotation=r.rotateX(r.create(),r.create(),-Math.PI/16),e.headlight={lightType:$n.SPOT,position:e.headlightLocalPosition,lightColor:{ambient:Vn(.3,.3,.3,1),diffuse:Vn(1,1,1,1),specular:Vn(1,1,1,1)},direction:qn(0,0,-1),lowerLimit:Math.cos(Math.PI/8),upperLimit:Math.cos(Math.PI/6),constant:1,linear:.009,quadratic:.0032},e.xRotationAngle=0,e.yRotationAngle=0,e.zRotationAngle=0,e.velocity=qn(0,0,0),e.acceleration=qn(0,0,0),e.accelerationPerGas=1.1,e.restDecelerationRate=10,e.brakeDecelerationRate=30,e.maxAccelerationMagnitude=20,e.maxVelocityMagnitude=100,e.wheelTurn=0,e.wheelReturnToCenterRate=Math.PI/80,e.wheelTurnRate=Math.PI/180,e.maxWheelTurn=Math.PI/6,e.bodyWidth=4,e.xOffset=e.bodyWidth/2,e.groundOffset=2,e.wheelZOffset=6,e.shieldRadius=13,e.frontLeftWheelPosition=qn(-e.xOffset,e.groundOffset,-e.wheelZOffset),e.backLeftWheelPosition=qn(-e.xOffset,e.groundOffset,e.wheelZOffset),e.backRightWheelPosition=qn(e.xOffset,e.groundOffset,e.wheelZOffset),e.frontRightWheelPosition=qn(e.xOffset,e.groundOffset,-e.wheelZOffset),e}return s(n,t),n.prototype.bindControls=function(){this.isUsingControls=!0,te.addAssignedControl(Xn.W,"gas"),te.addAssignedControl(Xn.S,"brake"),te.addAssignedControl(Xn.A,"turn left"),te.addAssignedControl(Xn.D,"turn right"),te.addAssignedControl(Xn.SPACE,"shoot")},n.prototype.getUpVector=function(){var t=i.sub(i.create(),this.frontRightWheelPosition,this.backRightWheelPosition),n=i.sub(i.create(),this.backRightWheelPosition,this.backLeftWheelPosition),e=i.cross(i.create(),n,t);return i.normalize(i.create(),e)},n.prototype.getForwardVector=function(){var t=i.sub(i.create(),this.frontRightWheelPosition,this.backRightWheelPosition),n=i.normalize(i.create(),t),e=i.transformMat4(i.create(),n,this.getRotationMatrix());return i.normalize(e,e)},n.prototype.getBackwardVector=function(){var t=i.sub(i.create(),this.backRightWheelPosition,this.frontRightWheelPosition),n=i.normalize(i.create(),t),e=i.transformMat4(i.create(),n,this.getRotationMatrix());return i.normalize(e,e)},n.prototype.getInput=function(){return this.isUsingControls?{isTurningLeft:te.isKeyDown(Xn.A),isTurningRight:te.isKeyDown(Xn.D),isGasPedalDown:te.isKeyDown(Xn.W),isBrakePedalDown:te.isKeyDown(Xn.S),isShooting:te.isKeyDown(Xn.SPACE)}:this.ai.getInput()},n.prototype.update=function(t){var n=t/1e3,e=i.scale(i.create(),this.velocity,n);i.add(this.position,this.position,e);var o=i.normalize(i.create(),this.velocity),a=i.length(this.velocity),s=this.getInput(),u=s.isTurningLeft,c=s.isTurningRight,h=s.isGasPedalDown,l=s.isBrakePedalDown,f=s.isShooting;if(this.gun.update(t),f&&this.gun.isReadyToShoot()){var d=i.create(),p=this.getForwardVector(),m=i.clone(p);i.scale(m,m,Jn.zOffset+8),i.add(m,m,qn(0,3,0)),i.add(d,this.position,m),this.projectiles.push(this.gun.shoot(d,p,this.getRotationMatrix()))}var g,v,M=Math.abs(this.wheelTurn)<.001;if(c&&!u)this.wheelTurn=Math.max(-this.maxWheelTurn,this.wheelTurn-this.wheelTurnRate);else if(u&&!c)this.wheelTurn=Math.min(this.maxWheelTurn,this.wheelTurn+this.wheelTurnRate);else if(!M&&!u&&!c){var b=this.wheelReturnToCenterRate*-Gn(this.wheelTurn)+this.wheelTurn;g=this.wheelTurn,v=b,this.wheelTurn=g>=0&&v<0||g<0&&v>=0?0:b}var y=i.length(this.acceleration);if(!M){var L=i.create();i.sub(L,this.frontLeftWheelPosition,this.backLeftWheelPosition);var w=a/(i.length(L)/Math.sin(Math.PI/2-this.wheelTurn)),P=Gn(this.wheelTurn)*w*n,x=i.rotateY(i.create(),o,qn(0,0,0),P);this.velocity=i.scale(x,x,a);var C=i.normalize(i.create(),this.acceleration),S=i.rotateY(i.create(),C,qn(0,0,0),P);this.acceleration=i.scale(S,S,y),this.yRotationAngle+=P}var T=i.scale(i.create(),o,-1),A=!l&&!h&&a>.001,O=this.getForwardVector();if(h&&!l){var R=i.scale(O,O,this.accelerationPerGas),U=i.add(i.create(),this.acceleration,R);i.length(U)<this.maxAccelerationMagnitude&&(this.acceleration=U)}else l&&!h&&a>.001?i.scale(this.acceleration,T,this.brakeDecelerationRate):A&&i.scale(this.acceleration,T,this.restDecelerationRate);var D=i.clone(this.velocity),E=i.add(i.create(),this.velocity,i.scale(i.create(),this.acceleration,n)),I=i.dot(D,E);(A||l)&&I<=0?(this.velocity=qn(0,0,0),this.acceleration=qn(0,0,0)):(this.velocity=E,i.length(this.velocity)>this.maxVelocityMagnitude&&(i.normalize(this.velocity,this.velocity),i.scale(this.velocity,this.velocity,this.maxVelocityMagnitude)));this.position[1]=this.floor.getYAtXZ(this.position[0],this.position[2]);var N=this.getCarBodyModelWithJustYRotation(),_=i.create(),F=i.create();i.transformMat4(_,this.frontLeftWheelPosition,N);var j=this.floor.getYAtXZ(_[0],_[2]);i.transformMat4(F,this.backLeftWheelPosition,N);var z=this.floor.getYAtXZ(F[0],F[2]),B=qn(_[0],j,_[2]),W=qn(F[0],z,F[2]),q=i.sub(i.create(),B,W),V=i.sub(i.create(),_,F);this.xRotationAngle=i.angle(q,V),V[1]>q[1]&&(this.xRotationAngle*=-1);var k=r.rotate(r.create(),r.create(),this.xRotationAngle,le);r.multiply(N,N,k),i.transformMat4(F,this.backLeftWheelPosition,N),W=qn(F[0],z,F[2]);var H=i.create();i.transformMat4(H,this.backRightWheelPosition,N);var G=this.floor.getYAtXZ(H[0],H[2]),X=qn(H[0],G,H[2]),Y=i.sub(i.create(),X,W),K=i.sub(i.create(),H,F);this.zRotationAngle=i.angle(Y,K),K[1]<Y[1]&&(this.zRotationAngle*=-1);var Z=this.getCarBodyModel();this.headlight.position=i.transformMat4(i.create(),this.headlightLocalPosition,Z),this.headlight.direction=i.transformMat4(i.create(),this.getForwardVector(),this.headlightDownRotation)},n.prototype.getProjectiles=function(){var t=[];return this.projectiles.forEach((function(n){t.push(n)})),this.projectiles=[],t},n.prototype.onHit=function(t){if(this.hasShield)return this.shieldHealth-=t.damage,void(this.shieldHealth<0&&(this.hasShield=!1));this.health-=t.damage,this.bodyMaterial.diffuse[0]-=.1},n.prototype.onPowerUp=function(t){switch(t.powerUpType){case ee.SHIELD:this.activateShield()}},n.prototype.getAxisAlignedBox=function(){var t=qn(0,0,0),n=qn(0,0,0),e=this.getCarBodyModel(),r=(qn(0,-2,0),i.transformMat4(i.create(),qn(-this.bodyWidth,0,-Jn.zOffset),e)),o=i.transformMat4(i.create(),qn(-this.bodyWidth,0,Jn.zOffset),e),a=i.transformMat4(i.create(),qn(this.bodyWidth,0,Jn.zOffset),e),s=i.transformMat4(i.create(),qn(this.bodyWidth,0,-Jn.zOffset),e),u=Jn.yMax,c=i.transformMat4(i.create(),qn(-this.bodyWidth,u,-Jn.zOffset),e),h=i.transformMat4(i.create(),qn(-this.bodyWidth,u,Jn.zOffset),e),l=i.transformMat4(i.create(),qn(this.bodyWidth,u,Jn.zOffset),e),f=i.transformMat4(i.create(),qn(this.bodyWidth,u,-Jn.zOffset),e);return t[0]=Math.min(r[0],o[0],a[0],s[0],c[0],h[0],l[0],f[0]),t[1]=Math.min(r[1],o[1],a[1],s[1],c[1],h[1],l[1],f[1]),t[2]=Math.min(r[2],o[2],a[2],s[2],c[2],h[2],l[2],f[2]),n[0]=Math.max(r[0],o[0],a[0],s[0],c[0],h[0],l[0],f[0]),n[1]=Math.max(r[1],o[1],a[1],s[1],c[1],h[1],l[1],f[1]),n[2]=Math.max(r[2],o[2],a[2],s[2],c[2],h[2],l[2],f[2]),new ue(t,n)},n.prototype.getCarBodyModel=function(){var t=r.create();return r.translate(t,t,this.position),r.multiply(t,t,this.getRotationMatrix()),t},n.prototype.getRotationMatrix=function(){var t=r.create();return r.rotate(t,t,this.yRotationAngle,fe),r.rotate(t,t,this.xRotationAngle,le),r.rotate(t,t,this.zRotationAngle,de),t},n.prototype.getCarBodyModelWithJustYRotation=function(){var t=r.create();return r.translate(t,t,this.position),r.rotate(t,t,this.yRotationAngle,fe),t},n.prototype.getLights=function(){return[this.headlight]},n.prototype.render=function(t,n){var e=this.getCarBodyModel();n.setMaterialUniform(t,this.bodyMaterial),Jn.render(t,n,e),n.setMaterialUniform(t,this.wheelMaterial),this.renderWheel(!0,e,this.frontLeftWheelPosition,t,n),this.renderWheel(!1,e,this.backLeftWheelPosition,t,n),this.renderWheel(!1,e,this.backRightWheelPosition,t,n),this.renderWheel(!0,e,this.frontRightWheelPosition,t,n),this.renderGun(t,n)},n.prototype.renderLight=function(t,n){n.setColor(t,Vn(1,1,1,1));var e=r.create();r.translate(e,e,this.headlight.position);var i=r.create();r.scale(i,i,[.3,.3,.3]),r.multiply(i,this.getRotationMatrix(),i),r.multiply(i,e,i),re.render(t,n,i)},n.prototype.renderGun=function(t,n){},n.prototype.activateShield=function(){this.hasShield=!0,this.shieldHealth=this.MAX_SHIELD_HEALTH},n.prototype.renderTranslucents=function(t,n){if(this.hasShield&&this.renderShield(t,n),this.isRenderAabb){var e=this.getAxisAlignedBox(),i=r.create(),o=e.bounds[1][0]-e.bounds[0][0],a=e.bounds[1][1]-e.bounds[0][1],s=e.bounds[1][2]-e.bounds[0][2];r.translate(i,i,qn(this.position[0],this.position[1]+a/2,this.position[2])),r.scale(i,i,[o/2,a/2,s/2]);var u={ambient:Vn(.3,.3,.1,.1),diffuse:Vn(.3,.3,.1,.1),specular:Vn(.3,.3,.1,.3),shininess:2};n.setMaterialUniform(t,u),re.render(t,n,i)}},n.prototype.getHasShield=function(){return this.hasShield},n.prototype.renderShield=function(t,n){var e=this.getCarBodyModel(),i=this.shieldHealth/this.MAX_SHIELD_HEALTH,o={ambient:Vn(0,.3,.7,.1*i),diffuse:Vn(0,.3,.7,.1*i),specular:Vn(0,.3,.7,.3*i),shininess:2};n.setMaterialUniform(t,o);var a=r.scale(r.create(),r.create(),[this.shieldRadius,this.shieldRadius,this.shieldRadius]);r.multiply(e,e,a),ie.render(t,n,e)},n.prototype.renderWheel=function(t,n,e,i,o){var a=r.create();r.translate(a,a,e);var s=r.create();if(r.multiply(s,n,a),t){var u=r.create();r.rotate(u,u,this.wheelTurn,[0,1,0]),r.multiply(s,s,u)}Qn.render(i,o,s)},n}(ne),me=new(function(t){function n(){var n=t.call(this)||this,e=qn(-1,0,-1),r=qn(-1,0,1),i=qn(1,0,1),o=qn(1,0,-1),a=Hn([new Kn({a:e,b:r,c:i,d:o})]);return n.addTriangles(a),n}return s(n,t),n}(Zn)),ge=function(t){function n(){var n=t.call(this)||this;n.floorColor=[.05,.2,.05,1],n.useGrid=!0,n.gridTiles=[],n.width=1e3;var e=n.width/2;if(n.scale=new Float32Array([e,e,e]),n.useGrid)for(var o=[{ambient:Vn(1,1,1,1),diffuse:Vn(1,1,1,1),specular:Vn(1,1,1,1),shininess:32},{ambient:Vn(.2,.2,.2,1),diffuse:Vn(.2,.2,.2,1),specular:Vn(1,1,1,1),shininess:32}],a=-n.width/2,s=n.width/50,u=[a,0,a],c=0;c<s;c++)for(var h=0;h<s;h++){var l=0,f=0;h<4?(l=8*h,f=8*(h+1)):4===h?l=f=32:h<=8&&(l=8*(8-h+1),f=8*(8-h));var d=u[0]+50*c,p=d+50,m=u[2]+50*h,g=m+50,v=new Kn({a:qn(d,l,m),b:qn(d,f,g),c:qn(p,f,g),d:qn(p,l,m)}),M=i.sub(i.create(),v.a,v.b),b=i.angle(M,qn(0,0,-1));l<f&&(b*=-1);var y=qn(d+25,(l+f)/2,m+25),L=r.create();r.translate(L,L,y),r.rotate(L,L,b,qn(1,0,0));var w=i.length(M)/2;r.scale(L,L,[25,25,w]);var P={model:L,material:o[(c+h)%2],square:v};n.gridTiles.push(P)}return n}return s(n,t),n.prototype.getYAtXZ=function(t,n){var e,r;try{for(var o=u(this.gridTiles),a=o.next();!a.done;a=o.next()){var s=a.value;if(t>=s.square.a[0]&&t<=s.square.d[0]&&n>=s.square.a[2]&&n<=s.square.b[2]){var c=Math.abs(s.square.a[2]-s.square.b[2]),h=(n-s.square.a[2])/c,l=i.sub(i.create(),s.square.b,s.square.a);return i.scale(i.create(),l,h)[1]+s.square.a[1]}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return console.log("XZ not found"),-1},n.prototype.render=function(t,n){if(this.useGrid)this.gridTiles.forEach((function(e){n.setMaterialUniform(t,e.material),me.render(t,n,e.model)}));else{var e=r.create();r.translate(e,e,this.position),r.scale(e,e,this.scale),me.render(t,n,e)}},n}(ne),ve=new(function(t){function n(){var n,e,r,o,a=t.call(this)||this;if(a.USE_GRID=!1,a.USE_GRID);else{for(var s=[],c=0;c<99;c++)for(var h=0;h<99;h++){var l=qn(10*c-500,0,10*h-500),f=qn(10*c-500,0,10*(h+1)-500),d=qn(10*(c+1)-500,0,10*(h+1)-500),p=qn(10*(c+1)-500,0,10*h-500);s.push(new Kn({a:l,b:f,c:d,d:p}))}var m=[];a.positions=[],a.normals=[];try{for(var g=u(s),v=g.next();!v.done;v=g.next()){var M=v.value,b=new Yn(M.a,M.b,M.d),y=new Yn(M.b,M.c,M.d);m.push(b),m.push(y)}}catch(t){n={error:t}}finally{try{v&&!v.done&&(e=g.return)&&e.call(g)}finally{if(n)throw n.error}}try{for(var L=u(m),w=L.next();!w.done;w=L.next()){var P=w.value,x=P.getNormal();i.normalize(x,x),kn(a.positions,P.a),kn(a.positions,P.b),kn(a.positions,P.c),kn(a.normals,x),kn(a.normals,x),kn(a.normals,x)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(o=L.return)&&o.call(L)}finally{if(r)throw r.error}}}return a}return s(n,t),n}(Zn));function Me(t,n,e){var r=t.createShader(n);return t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}var be=function(t,n,e){var r=function(t,n,e){var r=Me(t,t.VERTEX_SHADER,n),i=Me(t,t.FRAGMENT_SHADER,e),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(o)),null)}(t,n,e);this.program=r,this.attribLocations={vertexPosition:t.getAttribLocation(r,"aVertexPosition"),vertexNormal:t.getAttribLocation(r,"aVertexNormal")},this.uniformLocations={projectionMatrix:t.getUniformLocation(r,"uProjectionMatrix"),modelMatrix:t.getUniformLocation(r,"uModelMatrix"),viewMatrix:t.getUniformLocation(r,"uViewMatrix"),normalMatrix:t.getUniformLocation(r,"uNormalMatrix")}},ye=function(t){function n(n){var e=t.call(this,n,"\n  precision mediump float;\n\n  struct LightColor {\n    vec4 ambient;\n    vec4 diffuse;\n    vec4 specular;\n  };\n\n  struct DirectionalLight {\n    vec3 direction;\n    LightColor lightColor;\n  };\n\n  struct PointLight {\n    vec3 position;\n    LightColor lightColor;\n\n    // For distance-based attenuation:\n    float constant;\n    float linear;\n    float quadratic;\n  };\n\n  struct SpotLight {\n    vec3 position;\n    vec3 direction;\n    LightColor lightColor;\n\n    // For cone size:\n    float lowerLimit;\n    float upperLimit;\n\n    // For distance-based attenuation:\n    float constant;\n    float linear;\n    float quadratic;\n  };\n\n  attribute vec4 aVertexPosition;\n  attribute vec3 aVertexNormal;\n\n  uniform mat4 uNormalMatrix;\n  uniform mat4 uModelMatrix;\n  uniform mat4 uViewMatrix;\n  uniform mat4 uProjectionMatrix;\n  \n  uniform DirectionalLight uDirectionalLight;\n  uniform vec3 uCameraPosition;\n\n  varying vec3 vPosition;\n  varying vec3 vNormal;\n\n  void main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;\n\n    vNormal = (uNormalMatrix * vec4(aVertexNormal, 1.0)).xyz;\n    vPosition = (uModelMatrix * aVertexPosition).xyz;;\n  }\n","\n  precision mediump float;\n\n  struct Material {\n    vec4 ambient;\n    vec4 diffuse;\n    vec4 specular;\n    float shininess;\n  };\n\n  struct LightColor {\n    vec4 ambient;\n    vec4 diffuse;\n    vec4 specular;\n  };\n\n  struct DirectionalLight {\n    vec3 direction;\n    LightColor lightColor;\n  };\n\n  struct PointLight {\n    vec3 position;\n    LightColor lightColor;\n\n    // For distance-based attenuation:\n    float constant;\n    float linear;\n    float quadratic;\n  };\n\n  struct SpotLight {\n    vec3 position;\n    vec3 direction;\n    LightColor lightColor;\n\n    // For cone size:\n    float lowerLimit;\n    float upperLimit;\n\n    // For distance-based attenuation:\n    float constant;\n    float linear;\n    float quadratic;\n  };\n\n  varying vec3 vPosition;\n  varying vec3 vNormal;\n\n  uniform vec3 uCameraPosition;\n  uniform float uFogNear;\n  uniform float uFogFar;\n  uniform vec4 uFogColor;\n\n  uniform DirectionalLight uDirectionalLight;\n\n  #define MAX_POINT_LIGHTS 12  \n  uniform int uNumPointLights;\n  uniform PointLight uPointLights[MAX_POINT_LIGHTS];\n\n  #define MAX_SPOT_LIGHTS 12  \n  uniform int uNumSpotLights;\n  uniform SpotLight uSpotLights[MAX_SPOT_LIGHTS];\n\n  uniform Material uMaterial;\n\n  vec4 calculate_directional_light(\n      DirectionalLight directionalLight, \n      Material material, \n      vec3 normal, \n      vec3 surfaceToCamera) {\n    vec3 surfaceToLight = normalize(-directionalLight.direction);\n    vec4 directionalAmbient = directionalLight.lightColor.ambient * material.ambient;\n\n    float directionalDiffuseAmount = max(dot(normal, surfaceToLight), 0.0);\n    vec4 directionalDiffuse = directionalDiffuseAmount * directionalLight.lightColor.diffuse * material.diffuse;\n    \n    vec3 directionalSpecularReflectDir = reflect(-surfaceToLight, normal);\n    float directionalSpecularAmount = pow(max(dot(surfaceToCamera, directionalSpecularReflectDir), 0.0), material.shininess);\n    vec4 directionalSpecular = directionalSpecularAmount * directionalLight.lightColor.specular * material.specular;\n\n    return directionalAmbient + directionalDiffuse + directionalSpecular;\n  }\n\n  vec4 calculate_point_light(\n      vec3 worldPosition, \n      vec3 normal, \n      vec3 surfaceToCamera, \n      Material material, \n      PointLight pointLight) {\n    vec3 surfaceToPointLight = pointLight.position - worldPosition;\n    float distance    = length(surfaceToPointLight);\n    surfaceToPointLight = normalize(surfaceToPointLight);\n    float diffuse = max(dot(normal, surfaceToPointLight), 0.0);\n    vec3 reflectDir = reflect(-surfaceToPointLight, normal);  \n    float specular = pow(max(dot(surfaceToCamera, reflectDir), 0.0), material.shininess);\n    \n    float attenuation = 1.0 / (pointLight.constant + pointLight.linear * distance + \n        pointLight.quadratic * (distance * distance));\n    return pointLight.lightColor.ambient * material.ambient * attenuation + \n        diffuse * pointLight.lightColor.diffuse * material.diffuse * attenuation + \n        specular * pointLight.lightColor.specular * material.specular * attenuation;\n  }\n\n  vec4 calculate_spot_light(\n      vec3 worldPosition, \n      vec3 normal, \n      vec3 surfaceToCamera, \n      Material material, \n      SpotLight spotLight) {\n    vec4 ambient = spotLight.lightColor.ambient * material.diffuse;\n    \n    vec3 surfaceToSpotLight = spotLight.position - worldPosition;\n    float distance    = length(surfaceToSpotLight);\n    surfaceToSpotLight = normalize(surfaceToSpotLight);\n    float diff = max(dot(normal, surfaceToSpotLight), 0.0);\n    vec4 diffuse = spotLight.lightColor.diffuse * diff * material.diffuse;\n    \n    vec3 reflectDir = reflect(-surfaceToSpotLight, normal);  \n    float spec = pow(max(dot(surfaceToCamera, reflectDir), 0.0), material.shininess);\n    vec4 specular = spotLight.lightColor.specular * spec * material.specular;\n    \n    float spotLightIntensity = smoothstep(spotLight.upperLimit, spotLight.lowerLimit, dot(surfaceToSpotLight, normalize(-spotLight.direction)));\n    ambient *= spotLightIntensity;\n    diffuse  *= spotLightIntensity;\n    specular *= spotLightIntensity;\n    \n    // attenuation\n    float attenuation = 1.0 / (spotLight.constant + spotLight.linear * distance + spotLight.quadratic * (distance * distance));\n    return ambient * attenuation + diffuse * attenuation + specular * attenuation;\n  }\n\n  void main() {\n    vec3 normal = normalize(vNormal);\n    vec3 surfaceToCamera = normalize(uCameraPosition - vPosition);\n\n    // Lights\n    vec4 color = vec4(0, 0, 0, 0);\n\n    color += calculate_directional_light(uDirectionalLight, uMaterial, normal, surfaceToCamera);\n\n    for(int i= 0; i < MAX_POINT_LIGHTS; i++) {\n      if (i>=uNumPointLights) { break; }\n      color += calculate_point_light(vPosition, normal, surfaceToCamera, uMaterial, uPointLights[i]);\n    }\n    \n    for(int j= 0; j < MAX_SPOT_LIGHTS; j++) {\n      if (j>=uNumSpotLights) { break; }\n      color += calculate_spot_light(vPosition, normal, surfaceToCamera, uMaterial, uSpotLights[j]);\n    }\n\n    // Fog\n    float distance = length(vPosition - uCameraPosition);\n    float fogAmount = smoothstep(uFogNear, uFogFar, distance);\n    color = mix(color, vec4(uFogColor.xyz, color.w), fogAmount);\n    gl_FragColor = color;\n  }\n")||this;e.pointLightLocations=[],e.spotLightLocations=[],e.standardShaderUniformLocations={directionalLightDirection:n.getUniformLocation(e.program,"uDirectionalLight.direction"),directionalLightColorAmbient:n.getUniformLocation(e.program,"uDirectionalLight.lightColor.ambient"),directionalLightColorDiffuse:n.getUniformLocation(e.program,"uDirectionalLight.lightColor.diffuse"),directionalLightColorSpecular:n.getUniformLocation(e.program,"uDirectionalLight.lightColor.specular"),numPointLights:n.getUniformLocation(e.program,"uNumPointLights"),numSpotLights:n.getUniformLocation(e.program,"uNumSpotLights"),cameraPosition:n.getUniformLocation(e.program,"uCameraPosition"),materialAmbient:n.getUniformLocation(e.program,"uMaterial.ambient"),materialDiffuse:n.getUniformLocation(e.program,"uMaterial.diffuse"),materialSpecular:n.getUniformLocation(e.program,"uMaterial.specular"),materialShininess:n.getUniformLocation(e.program,"uMaterial.shininess"),fogNear:n.getUniformLocation(e.program,"uFogNear"),fogFar:n.getUniformLocation(e.program,"uFogFar"),fogColor:n.getUniformLocation(e.program,"uFogColor")};for(var r=0;r<12;r++){var i={position:n.getUniformLocation(e.program,"uPointLights["+r+"].position"),lightColorAmbient:n.getUniformLocation(e.program,"uPointLights["+r+"].lightColor.ambient"),lightColorDiffuse:n.getUniformLocation(e.program,"uPointLights["+r+"].lightColor.diffuse"),lightColorSpecular:n.getUniformLocation(e.program,"uPointLights["+r+"].lightColor.specular"),constant:n.getUniformLocation(e.program,"uPointLights["+r+"].constant"),linear:n.getUniformLocation(e.program,"uPointLights["+r+"].linear"),quadratic:n.getUniformLocation(e.program,"uPointLights["+r+"].quadratic")};e.pointLightLocations.push(i)}for(r=0;r<12;r++){var o={position:n.getUniformLocation(e.program,"uSpotLights["+r+"].position"),direction:n.getUniformLocation(e.program,"uSpotLights["+r+"].direction"),lowerLimit:n.getUniformLocation(e.program,"uSpotLights["+r+"].lowerLimit"),upperLimit:n.getUniformLocation(e.program,"uSpotLights["+r+"].upperLimit"),lightColorAmbient:n.getUniformLocation(e.program,"uSpotLights["+r+"].lightColor.ambient"),lightColorDiffuse:n.getUniformLocation(e.program,"uSpotLights["+r+"].lightColor.diffuse"),lightColorSpecular:n.getUniformLocation(e.program,"uSpotLights["+r+"].lightColor.specular"),constant:n.getUniformLocation(e.program,"uSpotLights["+r+"].constant"),linear:n.getUniformLocation(e.program,"uSpotLights["+r+"].linear"),quadratic:n.getUniformLocation(e.program,"uSpotLights["+r+"].quadratic")};e.spotLightLocations.push(o)}return e}return s(n,t),n.prototype.setMaterialUniform=function(t,n){t.uniform4fv(this.standardShaderUniformLocations.materialAmbient,n.ambient),t.uniform4fv(this.standardShaderUniformLocations.materialDiffuse,n.diffuse),t.uniform4fv(this.standardShaderUniformLocations.materialSpecular,n.specular),t.uniform1f(this.standardShaderUniformLocations.materialShininess,n.shininess)},n.prototype.setDirectionalLight=function(t,n){t.uniform3fv(this.standardShaderUniformLocations.directionalLightDirection,n.direction),t.uniform4fv(this.standardShaderUniformLocations.directionalLightColorAmbient,n.lightColor.ambient),t.uniform4fv(this.standardShaderUniformLocations.directionalLightColorDiffuse,n.lightColor.diffuse),t.uniform4fv(this.standardShaderUniformLocations.directionalLightColorSpecular,n.lightColor.specular)},n.prototype.setPointLights=function(t,n){var e=n.length;t.uniform1i(this.standardShaderUniformLocations.numPointLights,e);for(var r=0;r<e;r++){var i=n[r];t.uniform3fv(this.pointLightLocations[r].position,i.position),t.uniform4fv(this.pointLightLocations[r].lightColorAmbient,i.lightColor.ambient),t.uniform4fv(this.pointLightLocations[r].lightColorDiffuse,i.lightColor.diffuse),t.uniform4fv(this.pointLightLocations[r].lightColorSpecular,i.lightColor.specular),t.uniform1f(this.pointLightLocations[r].constant,i.constant),t.uniform1f(this.pointLightLocations[r].linear,i.linear),t.uniform1f(this.pointLightLocations[r].quadratic,i.quadratic)}},n.prototype.setSpotLights=function(t,n){var e=n.length;t.uniform1i(this.standardShaderUniformLocations.numSpotLights,e);for(var r=0;r<e;r++){var i=n[r];t.uniform3fv(this.spotLightLocations[r].position,i.position),t.uniform3fv(this.spotLightLocations[r].direction,i.direction),t.uniform1f(this.spotLightLocations[r].upperLimit,i.upperLimit),t.uniform1f(this.spotLightLocations[r].lowerLimit,i.lowerLimit),t.uniform4fv(this.spotLightLocations[r].lightColorAmbient,i.lightColor.ambient),t.uniform4fv(this.spotLightLocations[r].lightColorDiffuse,i.lightColor.diffuse),t.uniform4fv(this.spotLightLocations[r].lightColorSpecular,i.lightColor.specular),t.uniform1f(this.spotLightLocations[r].constant,i.constant),t.uniform1f(this.spotLightLocations[r].linear,i.linear),t.uniform1f(this.spotLightLocations[r].quadratic,i.quadratic)}},n}(be),Le=function(t){function n(n){var e=t.call(this,n,"\n  precision mediump float;\n\n  attribute vec4 aVertexPosition;\n  attribute vec3 aVertexNormal;\n\n  uniform mat4 uNormalMatrix;\n  uniform mat4 uModelMatrix;\n  uniform mat4 uViewMatrix;\n  uniform mat4 uProjectionMatrix;\n\n  varying vec3 vNormal;\n\n  void main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;\n\n    vNormal = (uNormalMatrix * vec4(aVertexNormal, 1.0)).xyz;\n  }\n","\n  precision mediump float;\n\n  varying vec3 vNormal;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n")||this;return e.colorUniformLocation=n.getUniformLocation(e.program,"uColor"),e}return s(n,t),n.prototype.setColor=function(t,n){t.uniform4fv(this.colorUniformLocation,n)},n}(be),we=new(function(){function t(){}return t.prototype.init=function(t){this.standard=new ye(t),this.light=new Le(t)},t}()),Pe=function(){function t(){this.up=qn(0,1,0),this.ORBIT_ANGLE=Math.PI/24,this.MOVEMENT=.25,this.cameraPosition=qn(0,12,30),this.target=qn(0,0,0),te.addAssignedControl(Xn.J,"camera orbit left"),te.addAssignedControl(Xn.L,"camera orbit right"),te.addAssignedControl(Xn.I,"camera move up"),te.addAssignedControl(Xn.K,"camera move down"),te.addAssignedControl(Xn.O,"camera zoom in"),te.addAssignedControl(Xn.P,"camera zoom out")}return t.prototype.getViewMatrix=function(){var t=r.create();return r.lookAt(t,this.cameraPosition,this.target,this.up),t},t.prototype.update=function(t){te.isKeyDown(Xn.J)&&this.orbitLeft(),te.isKeyDown(Xn.L)&&this.orbitRight(),te.isKeyDown(Xn.I)&&this.moveUp(),te.isKeyDown(Xn.K)&&this.moveDown(),te.isKeyDown(Xn.O)&&this.zoomIn(),te.isKeyDown(Xn.P)&&this.zoomOut()},t.prototype.orbitRight=function(){i.rotateY(this.cameraPosition,this.cameraPosition,this.target,this.ORBIT_ANGLE)},t.prototype.orbitLeft=function(){i.rotateY(this.cameraPosition,this.cameraPosition,this.target,-this.ORBIT_ANGLE)},t.prototype.moveUp=function(){this.cameraPosition[1]+=this.MOVEMENT},t.prototype.moveDown=function(){this.cameraPosition[1]-=this.MOVEMENT},t.prototype.zoomIn=function(){this.cameraPosition[2]-=this.MOVEMENT},t.prototype.zoomOut=function(){this.cameraPosition[2]+=this.MOVEMENT},t}(),xe=function(t){function n(){var n=t.call(this)||this;return n.color=Vn(.3,.1,.3,1),n.material={ambient:Vn(.3,.1,.3,1),diffuse:Vn(.3,.1,.3,1),specular:Vn(1,1,1,1),shininess:69},n.baseScale=qn(1,10,1),n.basePosition=qn(5,10,0),n.crossBarScale=qn(4,1,1),n.crossBarPosition=qn(0,19,0),n.light={lightType:$n.POINT,position:qn(-3,17,0),lightColor:{ambient:Vn(.5,.5,.5,1),diffuse:Vn(.5,.5,.5,1),specular:Vn(.1,.1,.1,1)},constant:1,linear:.009,quadratic:.0032},n}return s(n,t),n.prototype.update=function(t){var n=this.getModel();this.light.position=i.transformMat4(i.create(),qn(-3,17,0),n)},n.prototype.getModel=function(){var t=r.create();return r.translate(t,t,this.position),t},n.prototype.render=function(t,n){n.setMaterialUniform(t,this.material);var e=this.getModel(),i=r.create();r.translate(i,e,this.basePosition),r.scale(i,i,this.baseScale),re.render(t,n,i);var o=r.create();r.translate(o,e,this.crossBarPosition),r.scale(o,o,this.crossBarScale),re.render(t,n,o)},n.prototype.getLights=function(){return[this.light]},n.prototype.renderLight=function(t,n){n.setColor(t,Vn(1,1,1,1));var e=r.create();r.translate(e,e,this.light.position),re.render(t,n,e)},n}(ne),Ce=function(){function t(t,n,e){this.isChaseCam=!0,this.gameObjects=[],this.cars=[],this.streetLights=[],this.projectiles=[],this.powerUps=[],this.maxPowerUps=5,this.canvas=t,this.gl=n,this.sceneParams=e,this.projectionMatrix=this.createProjectionMatrix(),this.camera=new Pe,te.addAssignedControl(Xn.M,"Toggle chase cam"),this.gameObjects=[this.sceneParams.floor];for(var r=0;r<6;r++){var i=new xe;i.position=qn(50,0,50*r-50),this.streetLights.push(i),this.gameObjects.push(i)}this.powerUpSpawns=[],this.maxPowerUps=6;for(var o=0;o<this.maxPowerUps;o++){var a=125*o-250,s=qn(a,this.sceneParams.floor.getYAtXZ(a,-275)+4,-275);this.powerUpSpawns.push(s);var u=this.getRandomPowerUp();u.position=s,this.powerUps.push(u),this.gameObjects.push(u)}}return t.prototype.getRandomPowerUp=function(){return new he},t.prototype.setPlayerCar=function(t){this.playerCar=t,this.cars.push(this.playerCar),this.gameObjects.push(this.playerCar)},t.prototype.addCar=function(t){this.cars.push(t),this.gameObjects.push(t)},t.prototype.update=function(t){var n=this;this.gameObjects.forEach((function(n){n.update(t)}));var e=[];this.cars.forEach((function(t){t.getProjectiles().forEach((function(t){n.projectiles.push(t),n.gameObjects.push(t)})),e.push(t.getAxisAlignedBox())}));for(var r=function(t){var r=o.projectiles[t];if(r.timeElapsedMs>2e3)return o.projectiles.splice(t,1),o.gameObjects.splice(o.gameObjects.indexOf(r),1),"continue";new se(r.position,r.initialVelocity);e.forEach((function(e,o){var a=!1,s=n.cars[o];s.getHasShield()?a=i.length(i.sub(i.create(),s.position,r.position))<s.shieldRadius:ce.pointInBox(r.position,e)&&(a=!0),a&&(s.onHit(r),n.projectiles.splice(t,1),n.gameObjects.splice(n.gameObjects.indexOf(r),1))}))},o=this,a=this.projectiles.length-1;a>=0;a--)r(a);for(var s=this.cars.length-1;s>=0;s--){(u=this.cars[s]).health<=0&&(this.cars.splice(s,1),this.gameObjects.splice(this.gameObjects.indexOf(u),1))}for(s=this.cars.length-1;s>=0;s--)for(var u=this.cars[s],c=this.powerUps.length-1;c>=0;c--){var h=this.powerUps[c];i.length(i.sub(i.create(),h.position,u.position))<10&&(u.onPowerUp(h),this.powerUps.splice(c,1),this.gameObjects.splice(this.gameObjects.indexOf(h),1))}this.camera.update(t),this.updateChaseCam()},t.prototype.render=function(){var t=this,n=this.gl;this.resize(),n.viewport(0,0,n.canvas.width,n.canvas.height),this.gl.clearColor(this.sceneParams.clearColor[0],this.sceneParams.clearColor[1],this.sceneParams.clearColor[2],this.sceneParams.clearColor[3]),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.clearDepth(1),n.enable(n.CULL_FACE),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),this.useProgram(we.standard),this.setSceneParamsUniforms();var e=this.getAllLights();we.standard.setPointLights(this.gl,e.filter((function(t){return t.lightType===$n.POINT}))),we.standard.setSpotLights(this.gl,e.filter((function(t){return t.lightType===$n.SPOT}))),n.uniform3fv(we.standard.standardShaderUniformLocations.cameraPosition,this.camera.cameraPosition),this.gameObjects.forEach((function(n){n.render(t.gl,we.standard)})),this.gameObjects.forEach((function(n){n.renderTranslucents(t.gl,we.standard)})),this.useProgram(we.light),this.gameObjects.forEach((function(n){n.renderLight(t.gl,we.light)}))},t.prototype.getAllLights=function(){var t=[];return this.gameObjects.forEach((function(n){n.getLights().forEach((function(n){t.push(n)}))})),t},t.prototype.updateChaseCam=function(){if(this.isChaseCam){this.camera.target=i.clone(this.playerCar.position);var t=i.scale(i.create(),this.playerCar.getBackwardVector(),40),n=i.scale(i.create(),this.playerCar.getUpVector(),13),e=i.add(i.create(),t,n);this.camera.cameraPosition=i.add(i.create(),this.camera.target,e)}te.isKeyDown(Xn.M)&&(this.isChaseCam=!this.isChaseCam)},t.prototype.createProjectionMatrix=function(){var t=r.create(),n=Se(this.gl),e=45*Math.PI/180,i=n.x/n.y;return r.perspective(t,e,i,.1,1e3),t},t.prototype.setSceneParamsUniforms=function(){var t=this.gl;we.standard.setDirectionalLight(t,this.sceneParams.directionalLight),t.uniform1f(we.standard.standardShaderUniformLocations.fogNear,this.sceneParams.fog.fogNear),t.uniform1f(we.standard.standardShaderUniformLocations.fogFar,this.sceneParams.fog.fogFar),t.uniform4fv(we.standard.standardShaderUniformLocations.fogColor,this.sceneParams.fog.fogColor)},t.prototype.useProgram=function(t){this.gl.useProgram(t.program),this.gl.uniformMatrix4fv(t.uniformLocations.projectionMatrix,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(t.uniformLocations.viewMatrix,!1,this.camera.getViewMatrix())},t.prototype.resize=function(){var t=window.devicePixelRatio,n=Se(this.gl),e=Math.floor(n.x*t),r=Math.floor(n.y*t);this.canvas.width===e&&this.canvas.height===r||(this.canvas.width=e,this.canvas.height=r),this.projectionMatrix=this.createProjectionMatrix()},t}();function Se(t){var n=t.canvas;return{x:n.clientWidth,y:n.clientHeight}}var Te=function(){function t(t,n){this.delay=1e3,this.car=t,this.scene=n}return t.prototype.getInput=function(){if(this.delay>0)return this.delay--,{isTurningLeft:!1,isTurningRight:!1,isGasPedalDown:!1,isBrakePedalDown:!1,isShooting:!1};var t=Math.random();return{isTurningLeft:t>.3,isTurningRight:t>.3,isGasPedalDown:t>.1,isBrakePedalDown:!1,isShooting:t>.9}},t}(),Ae=e(0),Oe=function(){function t(){this.title="JacobX",this.lastTime=0,document.body.style.backgroundColor="#000000",this.canvas=document.createElement("canvas"),this.canvas.style.backgroundColor="#FF0000",this.canvas.style.width="100vw",this.canvas.style.height="100vh",this.canvas.style.display="block",document.body.appendChild(this.canvas),document.body.classList.add(Ae.body);var t=document.createElement("div");t.innerHTML="A/D - steer<br>W/S - accelerate/break<br>SPACE - shoot",t.style.position="absolute",t.style.color="#fdaaaa";t.style.top="12px",t.style.left="12px",document.body.appendChild(t),this.gl=this.canvas.getContext("webgl",{alpha:!0,premultipliedAlpha:!1}),null!==this.gl?(we.init(this.gl),this.initRenderables(),this.initScene(),this.gameLoop(0)):alert("Unable to initialize WebGL. Your browser or machine may not support it.")}return t.prototype.gameLoop=function(t){var n=this,e=t-this.lastTime;this.scene.update(e),this.scene.render(),this.lastTime=t,window.requestAnimationFrame((function(t){n.gameLoop(t)}))},t.prototype.initRenderables=function(){Jn.initBuffers(this.gl),Qn.initBuffers(this.gl),ve.initBuffers(this.gl),re.initBuffers(this.gl),me.initBuffers(this.gl),ie.initBuffers(this.gl)},t.prototype.initScene=function(){var t=Vn(.3,.4,.9,1),n=new ge,e={clearColor:t,fog:{fogColor:t,fogNear:25,fogFar:750},directionalLight:{lightType:$n.DIRECTIONAL,direction:qn(-2,-3,-1),lightColor:{ambient:Vn(.1,.1,.1,1),diffuse:Vn(.3,.3,.3,1),specular:Vn(.3,.3,.3,1)}},floor:n};this.scene=new Ce(this.canvas,this.gl,e);var r=new pe(n);r.bindControls(),this.scene.setPlayerCar(r);for(var i=[{ambient:Vn(.2,0,.2,1),diffuse:Vn(.2,0,.2,1),specular:Vn(.2,0,.2,1),shininess:1},{ambient:Vn(.14,.4,0,1),diffuse:Vn(.14,.4,0,1),specular:Vn(.14,.4,0,1),shininess:1},{ambient:Vn(0,.7,.2,1),diffuse:Vn(0,.7,.2,1),specular:Vn(0,.7,.2,1),shininess:1},{ambient:Vn(0,.27,.62,1),diffuse:Vn(0,.27,.62,1),specular:Vn(0,.27,.62,1),shininess:1},{ambient:Vn(.1,.107,.42,1),diffuse:Vn(.1,.107,.42,1),specular:Vn(.1,.107,.42,1),shininess:1},{ambient:Vn(.3,.37,.32,1),diffuse:Vn(.3,.37,.32,1),specular:Vn(.3,.37,.32,1),shininess:1},{ambient:Vn(.4,.2,.2,1),diffuse:Vn(.4,.2,.2,1),specular:Vn(.4,.2,.2,1),shininess:1},{ambient:Vn(.1,.9,.1,1),diffuse:Vn(.1,.9,.1,1),specular:Vn(.1,.9,.1,1),shininess:1},{ambient:Vn(.8,.7,.5,1),diffuse:Vn(.8,.7,.5,1),specular:Vn(.8,.7,.5,1),shininess:1},{ambient:Vn(.4,.4,.4,1),diffuse:Vn(.4,.4,.4,1),specular:Vn(.4,.4,.4,1),shininess:1},{ambient:Vn(.6,.78,.82,1),diffuse:Vn(.6,.78,.82,1),specular:Vn(.6,.78,.82,1),shininess:1},{ambient:Vn(.35,.53,.33,1),diffuse:Vn(.35,.53,.33,1),specular:Vn(.35,.53,.33,1),shininess:1},{ambient:Vn(.123,.456,.789,1),diffuse:Vn(.123,.456,.789,1),specular:Vn(.123,.456,.789,1),shininess:1},{ambient:Vn(.555,.222,.669,1),diffuse:Vn(.555,.222,.669,1),specular:Vn(.555,.222,.669,1),shininess:1},{ambient:Vn(.2,.765,.299,1),diffuse:Vn(.2,.765,.299,1),specular:Vn(.2,.765,.299,1),shininess:1}],o=0;o<11;o++){var a=new pe(n);a.bodyMaterial=i[o],a.position=qn(50*Math.random()-50,0,50*o-50);var s=Math.random()*-Math.PI/4;a.yRotationAngle=s,a.ai=new Te(a,this.scene),this.scene.addCar(a)}},t}(),Re=!1;document.onreadystatechange=function(){"complete"!==document.readyState||Re||(new Oe,Re=!0)}}]);
//# sourceMappingURL=app.bundle.js.map